{"ast":null,"code":"var _jsxFileName = \"D:\\\\UohDating\\\\university-dating-app\\\\frontend\\\\src\\\\components\\\\EmailVerification.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { authAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmailVerification = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const [status, setStatus] = useState('verifying'); // 'verifying', 'success', 'error'\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const token = searchParams.get('token');\n    if (token) {\n      verifyEmail(token);\n    } else {\n      setStatus('error');\n      setMessage('Invalid verification link');\n    }\n  }, [searchParams]);\n  const verifyEmail = async token => {\n    try {\n      await authAPI.verifyEmail(token);\n      setStatus('success');\n      setMessage('Email verified successfully! You can now log in.');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setStatus('error');\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Verification failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-lg shadow-2xl max-w-md w-full text-center\",\n      children: [status === 'verifying' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-4\",\n          children: \"Verifying Email...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Please wait while we verify your email address.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), status === 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-green-500 text-6xl mb-4\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-green-600 mb-4\",\n          children: \"Email Verified!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition duration-200\",\n          children: \"Go to Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), status === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-6xl mb-4\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-red-600 mb-4\",\n          children: \"Verification Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition duration-200\",\n          children: \"Back to Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(EmailVerification, \"M9qSDo+Qb2nr2i1BWrLNCWIYIBU=\", false, function () {\n  return [useSearchParams];\n});\n_c = EmailVerification;\nexport default EmailVerification;\nvar _c;\n$RefreshReg$(_c, \"EmailVerification\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","authAPI","jsxDEV","_jsxDEV","EmailVerification","_s","searchParams","status","setStatus","message","setMessage","token","get","verifyEmail","error","_error$response","_error$response$data","response","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","_c","$RefreshReg$"],"sources":["D:/UohDating/university-dating-app/frontend/src/components/EmailVerification.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { authAPI } from '../services/api';\r\n\r\nconst EmailVerification = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const [status, setStatus] = useState('verifying'); // 'verifying', 'success', 'error'\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    const token = searchParams.get('token');\r\n    if (token) {\r\n      verifyEmail(token);\r\n    } else {\r\n      setStatus('error');\r\n      setMessage('Invalid verification link');\r\n    }\r\n  }, [searchParams]);\r\n\r\n  const verifyEmail = async (token) => {\r\n    try {\r\n      await authAPI.verifyEmail(token);\r\n      setStatus('success');\r\n      setMessage('Email verified successfully! You can now log in.');\r\n    } catch (error) {\r\n      setStatus('error');\r\n      setMessage(error.response?.data?.error || 'Verification failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center\">\r\n      <div className=\"bg-white p-8 rounded-lg shadow-2xl max-w-md w-full text-center\">\r\n        {status === 'verifying' && (\r\n          <div>\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n            <h2 className=\"text-2xl font-bold mb-4\">Verifying Email...</h2>\r\n            <p className=\"text-gray-600\">Please wait while we verify your email address.</p>\r\n          </div>\r\n        )}\r\n\r\n        {status === 'success' && (\r\n          <div>\r\n            <div className=\"text-green-500 text-6xl mb-4\">✅</div>\r\n            <h2 className=\"text-2xl font-bold text-green-600 mb-4\">Email Verified!</h2>\r\n            <p className=\"text-gray-600 mb-6\">{message}</p>\r\n            <a href=\"/\" className=\"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition duration-200\">\r\n              Go to Login\r\n            </a>\r\n          </div>\r\n        )}\r\n\r\n        {status === 'error' && (\r\n          <div>\r\n            <div className=\"text-red-500 text-6xl mb-4\">❌</div>\r\n            <h2 className=\"text-2xl font-bold text-red-600 mb-4\">Verification Failed</h2>\r\n            <p className=\"text-gray-600 mb-6\">{message}</p>\r\n            <a href=\"/\" className=\"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition duration-200\">\r\n              Back to Login\r\n            </a>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailVerification;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}